
## 模板特化
### 1. 函数模板特化

其余类型调用通用特化，针对`const char*`进行模板特化。
```cpp
// 函数模板
template<typename T>
T maxValue(T a, T b) {
return (a > b)? a : b;
}
// 针对const char*类型的特化
template<>
const char* maxValue<const char*>(const char* a, const char* b) {
return (strcmp(a, b) > 0)? a : b;
}
```

### 2. 类模板特化

针对某一个类型重新实现某个模板类。
这里有一个类模板 MyVector ，用于模拟一个简单的容器。然后针对 bool 类型进行了完全特化，**在完全特化的类中可以提供与通用模板不同的实现**，比如更高效的存储方式或者特殊的操作方法，以适应 bool 类型的特点。
```cpp
// 类模板
template<typename T>
class MyVector {
public:
MyVector() {
// 通用构造函数逻辑
}
// 其他成员函数
};

// 完全特化
template<>
class MyVector<bool> {
public:
MyVector() {
// 针对bool类型的特殊构造函数逻辑
}
// 其他针对bool类型特殊的成员函数
};
```

## 偏特化

在C++中，偏特化（部分特化）是**针对类模板**的一种特化方式。它不是为所有模板参数都指定具体类型，而是对模板参数的一部分进行特化，用于处理模板参数在某些特定组合或者约束下的情况。

以下是一个简单的示例，假设有一个通用的类模板来处理不同类型的数组：
```cpp
// 通用类模板，用于存储和操作数组
template<typename T, int size>
class ArrayHandler 
{
	public:
	T array[size];
	void printArray() 
	{
		for (int i = 0; i < size; ++i) 
		{
		std::cout << array[i] << " ";
		}
	std::cout << std::endl;
	}
};
```
这个模板可以处理任意类型 T 和任意大小 size 的数组。

下面是偏特化的例子，针对 char 类型数组（不管数组大小）进行偏特化：
```cpp
// 偏特化，当类型T为char时
template<int size>
class ArrayHandler<char, size> 
{
	public:
	char array[size];
	void printArray() 
	{
		std::cout << "This is a char array: ";
		for (int i = 0; i < size; ++i) 
		{
		std::cout << array[i];
		}
		std::cout << std::endl;
	}
};

```
在这个偏特化的类模板中，当 T 是 char 类型时，就会使用这个特殊的 printArray 实现。它在输出数组内容前会先输出一段提示信息。这种偏特化可以针对特定类型组合进行特殊的处理，以满足不同的需求。

## 参考
参考链接：[C++ 模板特化与偏特化：解析与应用 - 非法关键字 - 博客园](https://www.cnblogs.com/linxmouse/p/17775105.html)

### 模板特化

#### 定义与语法

模板特化是为模板提供特殊版本的一种机制。这个特殊版本仅适用于特定的模板参数。

```c++
// 原始模板
template<typename T>
void foo(T t) {    std::cout << "通用版本" << std::endl;} 
// 特化版本
template<>
void foo<int>(int t) {    std::cout << "int 版本" << std::endl;}
```

#### 使用场景

1. 当某个特定类型需要不同的处理逻辑时。
2. 优化：为特定类型提供更高效的算法。

#### 注意事项

1. 特化版本不能独立于原始模板存在。
2. 不能有多个相同的特化版本。

### 模板偏特化

#### 定义与语法

模板偏特化是在模板的**某些参数已经确定的情况下**，为剩余参数提供一个特殊实现。

```cpp
// 原始模板
template<typename T1, typename T2>
class MyPair {    
// ...
}; 
// 偏特化版本
template<typename T>
class MyPair<T, int> {    // ...
};
```

#### 使用场景

1. 当只有某几个模板参数需要特殊处理时。
2. 针对模板参数的某些属性（比如是否为指针、是否为常量等）进行特化。

#### 注意事项

1. **偏特化只适用于类模板，不适用于函数模板**。
2. 偏特化版本的参数数量必须少于原始模板。

### 对比

|      | 模板特化     | 模板偏特化  |
| ---- | -------- | ------ |
| 适用范围 | **类模板和函数模板** | **仅类模板**   |
| 参数数量 | 与原模板相同   | 少于原模板  |
| 实用性  | 针对特定类型   | 针对一组类型 |


